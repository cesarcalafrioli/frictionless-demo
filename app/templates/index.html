{% extends 'shared/base.html' %}

{% block content %}

  <div class="container">
      <div class="page-header">
         <h1>{{ header }}</h1>
      </div>
      <div class="p-4">
         <p>Demonstração do uso da framework Frictionless para extrair informações de determinado portal de dados abertos construído sobre a arquitetura CKAN</p>
      </div>


      <form action="" class="form-group">
         <div class="form-group">
            <input class="form-control" type="text" name="search" placeholder="Nome do portal de dados abertos CKAN" required="1">
         </div>

         <button type="submit" class="btn btn-primary mb-2">
            <i class="bi bi-search me-2"></i> Search
         </button>
      </form>
      
      <div class="p-4">
         <p>O portal {{ portal.url }} possui {{ portal.qtd_datasets}} conjuntos de dados</p>
      </div>

      <table class="table table-striped table-responsive table-bordered">
         <thead class="thead-default">
            <tr>
               <th>Identificador</th>
               <th>Nome do conjunto de dados</th>
               <th>Quantidade de resources</th>
           </tr>
        </thead>
        <tbody>
            {% for dataset in datasets %}
            <tr>
               <td>{{ dataset.dataset_id }}</td>
               <td>{{ dataset.titulo }}</td>
               <td>{{ dataset.qtd_resource }}</td>
               <td>Visualizar</td>
            </tr>
            {% endfor %}
         </tbody>
{% endblock %}